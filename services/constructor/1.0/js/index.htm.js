!function(global){var ym={project:{preload:[],namespace:"",jsonpPrefix:"",loadLimit:500},ns:{},env:{},envCallbacks:[]};!function(){var e={exports:{}},t=e.exports;!function(r){var n,o={NOT_RESOLVED:"NOT_RESOLVED",IN_RESOLVING:"IN_RESOLVING",RESOLVED:"RESOLVED"},i=function(){var e={trackCircularDependencies:!0,allowMultipleDeclarations:!0},t={},d=!1,m=[],h=function(e,r,i){i||(i=r,r=[]);var s=t[e];s||(s=t[e]={name:e,decl:n}),s.decl={name:e,prev:s.decl,fn:i,state:o.NOT_RESOLVED,deps:r,dependents:[],exports:n}},v=function(e,t,n){"string"==typeof e&&(e=[e]),d||(d=!0,p(b)),m.push({deps:e,cb:function(e,o){o?(n||s)(o):t.apply(r,e)}})},y=function(e){var r=t[e];return r?o[r.decl.state]:"NOT_DEFINED"},g=function(e){var r=t[e];return r?r.decl.deps:null},_=function(e){return!!t[e]},E=function(t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},b=function(){d=!1,w()},w=function(){var e,t=m,r=0;for(m=[];e=t[r++];)x(null,e.deps,[],e.cb)},x=function(e,r,n,o){var i=r.length;i||o([]);for(var s,c,u=[],l=function(e,t){if(t)return void o(null,t);if(!--i){for(var r,n=[],s=0;r=u[s++];)n.push(r.exports);o(n)}},f=0,p=i;f<p;){if(s=r[f++],"string"==typeof s){if(!t[s])return void o(null,a(s,e));c=t[s].decl}else c=s;u.push(c),k(c,n,l)}},k=function(t,n,i){if(t.state===o.RESOLVED)return void i(t.exports);if(t.state===o.IN_RESOLVING)return void(e.trackCircularDependencies&&f(t,n)?i(null,c(t,n)):t.dependents.push(i));if(t.dependents.push(i),t.prev&&!e.allowMultipleDeclarations)return void S(t,l(t));e.trackCircularDependencies&&(n=n.slice()).push(t);var s=!1,a=t.prev?t.deps.concat([t.prev]):t.deps;t.state=o.IN_RESOLVING,x(t,a,n,function(e,n){return n?void S(t,n):(e.unshift(function(e,r){return s?void i(null,u(t)):(s=!0,void(r?S(t,r):D(t,e)))}),void t.fn.apply({name:t.name,deps:t.deps,global:r},e))})},D=function(e,t){e.exports=t,e.state=o.RESOLVED;for(var r,i=0;r=e.dependents[i++];)r(t);e.dependents=n},S=function(e,t){e.state=o.NOT_RESOLVED;for(var r,n=0;r=e.dependents[n++];)r(null,t);e.dependents=[]};return{create:i,define:h,require:v,getState:y,getDependencies:g,isDefined:_,setOptions:E,flush:b,nextTick:p}},s=function(e){p(function(){throw e})},a=function(e,t){return Error(t?'Module "'+t.name+'": can\'t resolve dependence "'+e+'"':'Required module "'+e+"\" can't be resolved")},c=function(e,t){for(var r,n=[],o=0;r=t[o++];)n.push(r.name);return n.push(e.name),Error('Circular dependence has been detected: "'+n.join(" -> ")+'"')},u=function(e){return Error('Declaration of module "'+e.name+'" has already been provided')},l=function(e){return Error('Multiple declarations of module "'+e.name+'" have been detected')},f=function(e,t){for(var r,n=0;r=t[n++];)if(e===r)return!0;return!1},p=function(){var e=[],t=function(t){return 1===e.push(t)},n=function(){var t=e,r=0,n=e.length;for(e=[];r<n;)t[r++]()};if("object"==typeof process&&process.nextTick)return function(e){t(e)&&process.nextTick(n)};if(r.setImmediate)return function(e){t(e)&&r.setImmediate(n)};if(r.postMessage&&!r.opera){var o=!0;if(r.attachEvent){var i=function(){o=!1};r.attachEvent("onmessage",i),r.postMessage("__checkAsync","*"),r.detachEvent("onmessage",i)}if(o){var s="__modules"+ +new Date,a=function(e){e.data===s&&(e.stopPropagation&&e.stopPropagation(),n())};return r.addEventListener?r.addEventListener("message",a,!0):r.attachEvent("onmessage",a),function(e){t(e)&&r.postMessage(s,"*")}}}var c=r.document;if("onreadystatechange"in c.createElement("script")){var u=c.getElementsByTagName("head")[0],l=function(){var e=c.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},u.appendChild(e)};return function(e){t(e)&&l()}}return function(e){t(e)&&setTimeout(n,0)}}();"object"==typeof t?e.exports=i():r.modules=i()}(this),ym.modules=e.exports}(),ym.modules.setOptions({trackCircularDependencies:!0,allowMultipleDeclarations:!1}),ym.ns.modules=ym.modules,function(){var e,t,r={exports:{}};r.exports;!function(n){var o,i=function(){var e=[],t=function(t){return 1===e.push(t)},r=function(){var t=e,r=0,n=e.length;for(e=[];r<n;)t[r++]()};if("function"==typeof setImmediate)return function(e){t(e)&&setImmediate(r)};if("object"==typeof process&&process.nextTick)return function(e){t(e)&&process.nextTick(r)};if(n.postMessage){var o=!0;if(n.attachEvent){var i=function(){o=!1};n.attachEvent("onmessage",i),n.postMessage("__checkAsync","*"),n.detachEvent("onmessage",i)}if(o){var s="__promise"+ +new Date,a=function(e){e.data===s&&(e.stopPropagation&&e.stopPropagation(),r())};return n.addEventListener?n.addEventListener("message",a,!0):n.attachEvent("onmessage",a),function(e){t(e)&&n.postMessage(s,"*")}}}var c=n.document;if("onreadystatechange"in c.createElement("script")){var u=function(){var e=c.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,r()},(c.documentElement||c.body).appendChild(e)};return function(e){t(e)&&u()}}return function(e){t(e)&&setTimeout(r,0)}}(),s=function(e,t,r){if(b.debug)r?e.call(r):e();else try{r?e.call(r):e()}catch(n){return r?t.call(r,n):t(n),!1}return!0},a=function(e){i(function(){throw e})},c=function(e){return"function"==typeof e},u=function(e){return null!==e&&"object"==typeof e},l=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===l.call(e)},p=function(e){for(var t=[],r=0,n=e.length;r<n;)t.push(r++);return t},d=Object.keys||function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},m=function(e){var t=function(t){this.name=e,this.message=t};return t.prototype=new Error,t},h=function(e,t){return function(r){e.call(this,r,t)}},v=function(){this._promise=new g};v.prototype={promise:function(){return this._promise},resolve:function(e){this._promise.isResolved()||this._promise._resolve(e)},reject:function(e){this._promise.isResolved()||(b.isPromise(e)?(e=e.then(function(e){var t=b.defer();return t.reject(e),t.promise()}),this._promise._resolve(e)):this._promise._reject(e))},notify:function(e){this._promise.isResolved()||this._promise._notify(e)}};var y={PENDING:0,RESOLVED:1,FULFILLED:2,REJECTED:3},g=function(e){if(this._value=o,this._status=y.PENDING,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],e){var t=this,r=e.length;e(function(e){t.isResolved()||t._resolve(e)},r>1?function(e){t.isResolved()||t._reject(e)}:o,r>2?function(e){t.isResolved()||t._notify(e)}:o)}};g.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==y.PENDING},isFulfilled:function(){return this._status===y.FULFILLED},isRejected:function(){return this._status===y.REJECTED},then:function(e,t,r,n){var o=new v;return this._addCallbacks(o,e,t,r,n),o.promise()},"catch":function(e,t){return this.then(o,e,t)},fail:function(e,t){return this.then(o,e,t)},always:function(e,t){var r=this,n=function(){return e.call(this,r)};return this.then(n,n,t)},progress:function(e,t){return this.then(o,o,e,t)},spread:function(e,t,r){return this.then(function(t){return e.apply(this,t)},t,r)},done:function(e,t,r,n){this.then(e,t,r,n).fail(a)},delay:function(e){var t,r=this.then(function(r){var n=new v;return t=setTimeout(function(){n.resolve(r)},e),n.promise()});return r.always(function(){clearTimeout(t)}),r},timeout:function(e){var t=new v,r=setTimeout(function(){t.reject(new b.TimedOutError("timed out"))},e);return this.then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise().always(function(){clearTimeout(r)}),t.promise()},_vow:!0,_resolve:function(e){if(!(this._status>y.RESOLVED)){if(e===this)return void this._reject(TypeError("Can't resolve promise with itself"));if(this._status=y.RESOLVED,e&&e._vow)return void(e.isFulfilled()?this._fulfill(e.valueOf()):e.isRejected()?this._reject(e.valueOf()):e.then(this._fulfill,this._reject,this._notify,this));if(u(e)||c(e)){var t,r=s(function(){t=e.then},function(e){this._reject(e)},this);if(!r)return;if(c(t)){var n=this,o=!1;return void s(function(){t.call(e,function(e){o||(o=!0,n._resolve(e))},function(e){o||(o=!0,n._reject(e))},function(e){n._notify(e)})},function(e){o||this._reject(e)},this)}}this._fulfill(e)}},_fulfill:function(e){this._status>y.RESOLVED||(this._status=y.FULFILLED,this._value=e,this._callCallbacks(this._fulfilledCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=o)},_reject:function(e){this._status>y.RESOLVED||(this._status=y.REJECTED,this._value=e,this._callCallbacks(this._rejectedCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=o)},_notify:function(e){this._callCallbacks(this._progressCallbacks,e)},_addCallbacks:function(e,t,r,n,i){r&&!c(r)?(i=r,r=o):n&&!c(n)&&(i=n,n=o);var s;this.isRejected()||(s={defer:e,fn:c(t)?t:o,ctx:i},this.isFulfilled()?this._callCallbacks([s],this._value):this._fulfilledCallbacks.push(s)),this.isFulfilled()||(s={defer:e,fn:r,ctx:i},this.isRejected()?this._callCallbacks([s],this._value):this._rejectedCallbacks.push(s)),this._status<=y.RESOLVED&&this._progressCallbacks.push({defer:e,fn:n,ctx:i})},_callCallbacks:function(e,t){var r=e.length;if(r){var n=this.isResolved(),o=this.isFulfilled();i(function(){for(var i,a,c,u=0;u<r;)if(i=e[u++],a=i.defer,c=i.fn){var l,f=i.ctx,p=s(function(){l=f?c.call(f,t):c(t)},function(e){a.reject(e)});if(!p)continue;n?a.resolve(l):a.notify(l)}else n?o?a.resolve(t):a.reject(t):a.notify(t)})}}};var _={cast:function(e){return b.cast(e)},all:function(e){return b.all(e)},race:function(e){return b.anyResolved(e)},resolve:function(e){return b.resolve(e)},reject:function(e){return b.reject(e)}};for(var E in _)_.hasOwnProperty(E)&&(g[E]=_[E]);var b={debug:!1,Deferred:v,Promise:g,defer:function(){return new v},when:function(e,t,r,n,o){return b.cast(e).then(t,r,n,o)},fail:function(e,t,r){return b.when(e,o,t,r)},always:function(e,t,r){return b.when(e).always(t,r)},progress:function(e,t,r){return b.when(e).progress(t,r)},spread:function(e,t,r,n){return b.when(e).spread(t,r,n)},done:function(e,t,r,n,o){b.when(e).done(t,r,n,o)},isPromise:function(e){return u(e)&&c(e.then)},cast:function(e){return b.isPromise(e)?e:b.resolve(e)},valueOf:function(e){return e&&c(e.valueOf)?e.valueOf():e},isFulfilled:function(e){return!e||!c(e.isFulfilled)||e.isFulfilled()},isRejected:function(e){return!(!e||!c(e.isRejected))&&e.isRejected()},isResolved:function(e){return!e||!c(e.isResolved)||e.isResolved()},resolve:function(e){var t=b.defer();return t.resolve(e),t.promise()},fulfill:function(e){var t=b.defer(),r=t.promise();return t.resolve(e),r.isFulfilled()?r:r.then(null,function(e){return e})},reject:function(e){var t=b.defer();return t.reject(e),t.promise()},invoke:function(e,t){var r,o,i=Math.max(arguments.length-1,0);if(i){r=Array(i);for(var a=0;a<i;)r[a++]=arguments[a]}return s(function(){o=b.resolve(r?e.apply(n,r):e.call(n))},function(e){o=b.reject(e)}),o},all:function(e){var t=new v,r=f(e),n=r?p(e):d(e),o=n.length,i=r?[]:{};if(!o)return t.resolve(i),t.promise();var s=o;return b._forEach(e,function(e,r){i[n[r]]=e,--s||t.resolve(i)},t.reject,t.notify,t,n),t.promise()},allResolved:function(e){var t=new v,r=f(e),n=r?p(e):d(e),o=n.length,i=r?[]:{};if(!o)return t.resolve(i),t.promise();var s=function(){--o||t.resolve(e)};return b._forEach(e,s,s,t.notify,t,n),t.promise()},allPatiently:function(e){return b.allResolved(e).then(function(){var t,r,n,o,i=f(e),s=i?p(e):d(e),a=s.length,c=0;if(!a)return i?[]:{};for(;c<a;)n=s[c++],o=e[n],b.isRejected(o)?(t||(t=i?[]:{}),i?t.push(o.valueOf()):t[n]=o.valueOf()):t||((r||(r=i?[]:{}))[n]=b.valueOf(o));return t?b.reject(t):r})},any:function(e){var t=new v,r=e.length;if(!r)return t.reject(Error()),t.promise();var n,o=0;return b._forEach(e,t.resolve,function(e){o||(n=e),++o===r&&t.reject(n)},t.notify,t),t.promise()},anyResolved:function(e){var t=new v,r=e.length;return r?(b._forEach(e,t.resolve,t.reject,t.notify,t),t.promise()):(t.reject(Error()),t.promise())},delay:function(e,t){return b.resolve(e).delay(t)},timeout:function(e,t){return b.resolve(e).timeout(t)},_forEach:function(e,t,r,n,o,i){for(var s=i?i.length:e.length,a=0;a<s;)b.when(e[i?i[a]:a],h(t,a),r,n,o),++a},TimedOutError:m("TimedOut")},w=!0;"object"==typeof r&&"object"==typeof r.exports&&(r.exports=b,w=!1),"object"==typeof t&&(t.define("vow",function(e){e(b)}),w=!1),"function"==typeof e&&(e(function(e,t,r){r.exports=b}),w=!1),w&&(n.vow=b)}(this),ym.vow=r.exports}(),ym.modules.define("vow",[],function(e){e(ym.vow)}),ym.ns.vow=ym.vow;var _backup_modules=this.modules;!function(e,t,r){function n(e){this.entry=e}function o(){this._fallbacks=[],this._retrieversData={}}var i,s=10,a=ym.vow,c=Array.prototype.slice,u={},l={},f=function(e,t){return new Error('The key "'+t+'" isn\'t declared in "'+e+'" storage.')},p=function(e){return new Error('The dynamic depend "'+e+'" not found.')},d=function(e){return new Error("Undefined module `"+e+"` with no matching fallback.")};i={fallbacks:new o,define:function(e,r,n,o){var s,a,c,u=this;if("function"==typeof r&&"function"!=typeof n)n=r,o=n,r=[];else if("object"==typeof e){var f=e;e=f.name,r=f.depends,n=f.declaration,o=f.context,c=f.dynamicDepends,s=f.storage,a=f.key}if(l.hasOwnProperty(e)||(l[e]={name:e}),"function"==typeof r&&(r=r.call({name:e},ym)),l[e].callback=n,l[e].context=o,s&&a){if("string"!=typeof a)for(var p=0,d=a.length;p<d;p++)this._createKeyStorageRef(e,a[p],s);else this._createKeyStorageRef(e,a,s);l[e].key=a,l[e].storage=s}c&&(l[e].dynamicDepends=c);var m=i._createPatchedCallback(e);if(null!=r){for(var h=[],p=0,d=r.length;p<d;p++)h[p]=this._processModuleName(r[p]);h=this.fallbacks.addRetrievers(h),this.nextTick(function(){u.fallbacks.removeRetrievers(t.getDependencies(e))}),t.define(e,h,m)}else t.define(e,m);return this},require:function(n,o,s,u,l){var f=a.defer(),p=f.promise(),d=r;if(3==arguments.length&&"function"!=typeof s)u=s,s=null;else if(!n.hasOwnProperty("length")&&"object"==typeof n){var m=n;n=m.modules,o=m.successCallback,s=m.errorCallback,u=m.context,m.hasOwnProperty("data")&&(d=m.data)}n="string"!=typeof n&&n.hasOwnProperty("length")?n:[n];var h=n.length,v=this._processModuleList(n,d);return n=v.list,ym.env.debug&&!l&&this.watchResolving(n),v.error?f.reject(v.error):t.require(n,function(){var t=c.call(arguments,arguments.length-h);f.resolve(t),o&&o.apply(u||e,t)},function(e){l?f.reject(e):i.fallbacks.retrieve(n).then(function(){f.resolve(i.require(n,o,s,u,!0))}).fail(function(e){f.reject(e)})}),s&&!l&&p.fail(function(t){s.call(u||e,t)}),p},defineSync:function(e,t){var r,n;if("object"==typeof e){var o=e;t=o.module,r=o.storage,n=o.key,e=o.name}if(i.isDefined(e)){var s=l[e];s.name=e,s.module=t,s.callback=function(e){e(t)},s.context=null}else l[e]={name:e,module:t},i.define(e,function(e){e(t)});n&&r&&(l[e].key=n,l[e].storage=r,this._createKeyStorageRef(e,n,r))},requireSync:function(e,t){var r=this.getDefinition(e),n=null;return r&&(n=r.getModuleSync.apply(r,c.call(arguments,1))),n},providePackage:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);i.require(["system.mergeImports"]).spread(function(n){e(n.joinImports(t.name,{},t.deps,r))})},getDefinition:function(e){var t=null;return e=this._processModuleName(e),l.hasOwnProperty(e)&&(t=new n(l[e])),t},getState:function(e){return t.getState(this._processModuleName(e))},isDefined:function(e){return t.isDefined(this._processModuleName(e))},setOptions:function(e){return t.setOptions(e)},flush:function(){return t.flush()},nextTick:function(e){return t.nextTick(e)},watchResolving:function(e){if("object"==typeof console&&"function"==typeof console.warn){var t=this;"undefined"==typeof this._failCounter&&(this._failCounter=0),setTimeout(function(){0==t._failCounter&&setTimeout(function(){t._failCounter=0},150);for(var r=0,n=e.length;r<n;r++)if("RESOLVED"!=t.getState(e[r])){if(t._failCounter++,5==t._failCounter)setTimeout(function(){console.warn("Timeout: Totally "+t._failCounter+" modules were required but not resolved within "+s+" sec.")},100);else if(t._failCounter>5)continue;console.warn("Timeout: Module `"+e[r]+"` was required but is still "+t.getState(e[r])+" within "+s+" sec.")}},1e3*s)}},_createPatchedCallback:function(e){var t=this;return function(){var r=l[e],n=c.call(arguments,0),o=r.callback,s=r.context;ym.env.debug&&t.watchResolving([e]),n[0]=i._patchProvideFunction(n[0],e),o&&o.apply(s||this,n)}},_processModuleList:function(e,r,n){for(var o={list:[]},i=0,s=e.length;i<s;i++){var a=this._processModuleName(e[i]);if(!a){o.error=f(e[i].storage,e[i].key);break}if("undefined"!=typeof r){var c=t.getDependencies(a),u=l[a];if(c){var p=this._processModuleList(c,r,!0);if(p.error){o.error=p.error;break}o.list=o.list.concat(p.list)}if(u&&u.dynamicDepends){var d=[];for(var m in u.dynamicDepends){var h=u.dynamicDepends[m](r);this._isDepend(h)&&d.push(h)}var p=this._processModuleList(d,r);if(p.error){o.error=p.error;break}o.list=o.list.concat(p.list)}this.fallbacks.isRetriever(a)&&this.fallbacks.addRetrieverData(a,r)}n||o.list.push(a)}return o},_createKeyStorageRef:function(e,t,r){u.hasOwnProperty(r)||(u[r]={}),u[r][t]=e},_processModuleName:function(e){if("string"!=typeof e){var t=e.storage;e=u.hasOwnProperty(t)?u[t][e.key]||null:null}return e},_patchProvideFunction:function(e,t){var n=function(r,n){var o=l[t];o.module=r,e(r,n),n||(delete o.callback,delete o.context)};return n.provide=n,n.dynamicDepends={getValue:function(e,r){var n=a.defer(),o=l[t];if(o.dynamicDepends&&o.dynamicDepends.hasOwnProperty(e)){var s=o.dynamicDepends[e](r);n.resolve(i._isDepend(s)?i.getDefinition(s).getModule(r):[s])}else n.reject(p(e));return n.promise()},getValueSync:function(e,n){var o=r,s=l[t];if(s.dynamicDepends&&s.dynamicDepends.hasOwnProperty(e)){var a=s.dynamicDepends[e](n);o=i._isDepend(a)?i.getDefinition(a).getModuleSync(n):a}return o}},n},_isDepend:function(e){return"string"==typeof e||e&&e.key&&e.storage}},n.prototype.getModuleKey=function(){return this.entry.key},n.prototype.getModuleStorage=function(){return this.entry.storage},n.prototype.getModuleName=function(){return this.entry.name},n.prototype.getModuleSync=function(e){if(arguments.length>0){var t=this.entry.dynamicDepends;for(var n in t){var o=t[n](e);if(i._isDepend(o)&&!i.getDefinition(o).getModuleSync(e))return r}}return this.entry.module},n.prototype.getModule=function(e){var t={modules:[this.entry.name]};return e&&(t.data=e),i.require(t)};var m="_retriever@";o.prototype.register=function(e,t){e&&"*"!=e?this._fallbacks.unshift({filter:e,func:t}):this._fallbacks.push({filter:e||"*",func:t})},o.prototype.retrieve=function(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var o=a.defer(),s=e[r];if(t[r]=o.promise(),i.isDefined(s))o.resolve(!0);else{var c=this.find(s);if(!c){o.reject(d(s));break}o.resolve(c.func(s,c.filter))}}return a.all(t)},o.prototype.find=function(e){for(var t=0,r=this._fallbacks.length;t<r;t++){var n=this._fallbacks[t].filter;if("*"===n)return this._fallbacks[t];if("function"==typeof n&&n(e))return this._fallbacks[t];if(e.match(n))return this._fallbacks[t]}return null},o.prototype.addRetrievers=function(e){for(var t,r,n=[],o=0,s=e.length;o<s;o++)t=e[o],i.isDefined(t)?n.push(t):(r=m+t,n.push(r),i.isDefined(r)||this._defineRetriever(r));return n},o.prototype.removeRetrievers=function(e){for(var t,r=0,n=e.length;r<n;r++)this.isRetriever(e[r])&&!this._retrieversData[e[r]]&&(t=e[r].replace(m,""),i.isDefined(t)&&(e[r]=t))},o.prototype.isRetriever=function(e){return 0===e.indexOf(m)},o.prototype.addRetrieverData=function(e,t){this._retrieversData[e]||(this._retrieversData[e]=[]),this._retrieversData[e].push(t)},o.prototype._defineRetriever=function(e){var t=this;i.define(e,[],function(e){var r=this.name.replace(m,"");t.retrieve(r).then(function(){return t._requireAfterRetrieve(r)}).spread(e).fail(e)})},o.prototype._requireAfterRetrieve=function(e){var t=this._retrieversData[m+e];if(!t)return i.require(e);for(var r=[],n=0,o=t.length;n<o;n++)r.push(i.require({modules:[e],data:t[n]}));return a.all(r).then(function(e){return e[0]})},e.modules=i}(this,ym.modules),ym.modules=this.modules,this.modules=_backup_modules,_backup_modules=void 0,ym.ns.modules=ym.modules,function(e){function t(e,t,r){if(t){var n=e;t=t.split(".");for(var o,i=0,s=t.length-1;i<s;i++)t[i]&&(n=n[o=t[i]]||(n[o]={}));return n[t[s]]=r,n[t[s]]}return r}ym.project.namespace&&("function"==typeof setupAsync?ym.envCallbacks.push(function(r){r.namespace!==!1&&t(e,r.namespace||ym.project.namespace,ym.ns)}):t(e,ym.project.namespace,ym.ns))}(this),ym.modules.define("cnst.localization",["cnst.env"],function(e,t){var r={en:{"constructor-service":{move_to_map:"See full-size map",removed_map:"Map removed by owner. Find addresses and places with <a>Yandex.Maps</a>"}},fr:{"constructor-service":{move_to_map:"",removed_map:""}},kk:{"constructor-service":{move_to_map:"",removed_map:""}},ru:{"constructor-service":{move_to_map:"На большую карту",removed_map:"Карта удалена владельцем, нужные адрес или место можно найти <a>на Яндекс.Картах</a>"}},tr:{"constructor-service":{move_to_map:"Haritalar'da aç",removed_map:"Harita, sahibi tarafından silindi, istediğiniz adresi veya yeri <a>Yandex.Haritalar'da</a> bulabilirsiniz"}},uk:{"constructor-service":{move_to_map:"На велику карту",removed_map:"Карту видалено власником, потрібні адресу та місце можна знайти <a>на Яндекс.Картах</a>\n"}},uz:{"constructor-service":{move_to_map:"",removed_map:""}}};e(r[t.lang]&&r[t.lang]["constructor-service"])}),ym.modules.define("cnst.error-cap.main",["cnst.current-script","cnst.error-cap.config","cnst.error-cap.create","ymaps-cnst-error-cap.css"],function(e,t,r,n){function o(e,t){for(var r=[e.params,e.config],n=0;n<r.length;n++){var o=r[n];for(var i in o)t[i]=o[i]}return t}var i=r();if(t){var s={script:t};s=o(i,s),n(s,i.config.capImgFormat)}e({})}),function(e,t){function r(){ym.modules.require("cnst.error-cap.main")}t.addEventListener?e.addEventListener("load",r):t.attachEvent("onreadystatechange",function(){"complete"===t.readyState&&r()})}(window,document),ym.modules.define("cnst.env",function(e){e({"lang":"ru"})}),ym.modules.define("cnst.error-cap.config",[],function(e){e(function(){return{params:{"scrollZoomBehavior":false,"size":["700","450"],"elementId":"","key":"","apikey":"","isApiKeyValid":false,"csp":false},config:{"imgUrl":"https://api-maps.yandex.ru/services/constructor/1.0/img","show":"https://api-maps.yandex.ru/services/constructor/1.0/show","host":"https://api-maps.yandex.ru/","originalUrl":"https://api-maps.yandex.ru/services/constructor/1.0/js/?sid=HHEJMwv7QyN_GAz8rN1fFCbX4LsesftO&width=700&height=450","namespace":"ymaps_ctor","apiVersion":"2.1","minContainerSize":[320,200],"mapHost":"https://yandex.ru/maps/","capImgFormat":"svg"}}})});var currentScript=document.currentScript;ym.modules.define("cnst.current-script",["config"],function(e,t){function r(e,t){return!!e&&t.indexOf(e.replace(/^.*?\/\//,""))>-1}if(!currentScript||!currentScript.parentNode)for(var n,o=document.getElementsByTagName("script"),i=0,s=o.length;i<s;i++)if(n=o[i],!n.ctorInited&&r(n.src,t.originalUrl)){n.ctorInited=!0,currentScript=n;break}e(currentScript)}),ym.modules.define("error",["util.defineClass","util.extend"],function(e,t,r){function n(e,t){function r(t){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.name=e,this.message=t}return t&&(r.errorClass=t),o[e]=r,r}var o={create:function(e,t){return o[e]?new o[e](t):void o.log("ProcessError",e+": is undefined error type")},throwException:function(e,t){if(ym.env.debug)throw"object"==typeof e?e:o.create(e,t)},throwExceptionIf:function(e,t,r){e&&o.throwException(t,r)},warn:function(e,t){if(ym.env.debug&&"object"==typeof console&&console.warn){var r="object"==typeof e?e:o.create(e,t),n=new Error(r.name+": "+r.message);n.stack=r.stack,console.warn(n)}},warnIf:function(e,t,r){e&&o.warn(t,r)}},i=n("_YMError");t(i,Error);var s=n("ClientError");t(s,i);var a=n("InputError","ClientError");t(a,s);var c=n("StateError","ClientError");t(c,s);var u=n("ProcessError","ClientError");t(u,s);var l=n("StorageItemAccessError","ClientError");t(l,s);var f=n("FeatureRemovedError","ClientError");t(f,s);var p=n("ExternalError");t(p,i);var d=n("RequestError","ExternalError");t(d,p);var m=n("DataProcessingError","ExternalError");t(m,p);var h=n("AccessError","ExternalError");t(h,p);var v=n("NotSupportedError","ExternalError");t(v,p);var y=n("Reject");t(y,i);var g=n("OperationUnallowedReject","Reject");t(g,y);var _=n("OperationCanceledReject","Reject");t(_,y);var E=n("EmptyResultReject","Reject");t(E,y);var b=n("OperationUnavailableReject","Reject");t(b,y);var w=n("Warning");t(w,i);var x=n("DeprecationWarning","Warning");t(x,w);var k=n("OveruseWarning","Warning");t(k,w),e(o)}),ym.modules.define("config",[],function(e){e({"imgUrl":"https://api-maps.yandex.ru/services/constructor/1.0/img","show":"https://api-maps.yandex.ru/services/constructor/1.0/show","host":"https://api-maps.yandex.ru/","originalUrl":"https://api-maps.yandex.ru/services/constructor/1.0/js/?sid=HHEJMwv7QyN_GAz8rN1fFCbX4LsesftO&width=700&height=450","namespace":"ymaps_ctor","apiVersion":"2.1","minContainerSize":[320,200],"mapHost":"https://yandex.ru/maps/","capImgFormat":"svg"})}),ym.modules.define("map-data",[],function(e){e()}),ym.modules.define("params",["config","map-data"],function(e,t,r){function n(e){return e?isNaN(Number(e))?e:e+"px":"100%"}var o={"scrollZoomBehavior":false,"size":["700","450"],"elementId":"","key":"","apikey":"","isApiKeyValid":false,"csp":false};o.containerSize=[n(o.size[0]),n(o.size[1])],o.lang=(o.lang||r.maps[0]&&r.maps[0].state&&r.maps[0].state.lang||"ru_RU").replace("-","_"),o.tid=String(Number(new Date))+String(Math.round(1e6*Math.random())),o.ns=[t.namespace,o.lang,o.key.replace(/\W/g,""),o.apikey.replace(/\W/g,"")].join("__"),e(o)}),ym.modules.define("ymaps-cnst-error-cap.css",["system.provideCss"],function(e,t){t(".ymaps-cnst-error-cap{display:table;position:relative;background:#f3f2ee;cursor:pointer;text-decoration:none}.ymaps-cnst-error-cap .ymaps-cnst-container_big{top:0;left:0;right:0;bottom:0;margin:auto;text-align:center;position:absolute;width:280px;height:200px;background-color:#fff;box-shadow:0 4px 15px 0 rgba(61,38,4,.1)}.ymaps-cnst-error-cap .ymaps-cnst-container_big img{width:34px;height:54px;object-fit:contain;margin:28px auto 20px;border:0}.ymaps-cnst-error-cap .ymaps-cnst-container_big p{width:224px;height:66px;font-family:Arial;font-size:15px;line-height:1.47;text-align:center;color:#000;margin:0 auto}.ymaps-cnst-error-cap .ymaps-cnst-container_big p a,.ymaps-cnst-error-cap .ymaps-cnst-container_small a{color:#04b;text-decoration:none}.ymaps-cnst-error-cap .ymaps-cnst-container_big p a:hover,.ymaps-cnst-error-cap .ymaps-cnst-container_small a:hover{color:#c00}.ymaps-cnst-error-cap .ymaps-cnst-container_small{font-family:Arial;font-size:13px;line-height:1.5;text-align:center;color:#000;vertical-align:middle;display:table-cell}",e)}),ym.modules.define("system.createNs",[],function(e){e(function(e,t,r){if(t){var n=e;t=t.split(".");for(var o,i=0,s=t.length-1;i<s;i++)t[i]&&(n=n[o=t[i]]||(n[o]={}));return n[t[s]]=r,n[t[s]]}return r})}),ym.modules.define("system.mergeImports",[],function(e){function t(e,t,r){if(t){var n=e;t=t.split(".");for(var o,i=0,s=t.length-1;i<s;i++)t[i]&&(n=n[o=t[i]]||(n[o]={}));return n[t[s]]=r,n[t[s]]}return r}function r(e,t){return e[2]-t[2]}function n(e){return 0===e.indexOf("package.")}function o(e,r,n){for(var o=[],i={},s=0,a=r.length;s<a;++s){var c=n[s].__package;if(c)for(var u=0;u<c.length;++u)i[c[u][0]]||(t(e,c[u][0],c[u][1]),o.push([c[u][0],c[u][1]]),i[c[u][0]]=1);else t(e,r[s],n[s]),i[r[s]]||(o.push([r[s],n[s]]),i[r[s]]=1)}return e.__package=o,e}function i(e,i,s,a){var c=[],u=n(e);if(u)return o(i,s,a);for(var l=0,f=s.length;l<f;++l)c.push([s[l],l,s[l].length]);c.sort(r);for(var l=0,f=c.length;l<f;++l){var p=c[l][1],d=s[p];if(n(d))for(var m=a[p].__package,h=0;h<m.length;++h)t(i,m[h][0],m[h][1]);else t(i,d,a[p])}return i}e({isPackage:n,joinImports:i,createNS:t})}),ym.modules.define("system.provideCss",["system.nextTick","system.supports.csp"],function(e,t,r){function n(){if(c=!1,a.length){if(o||(o=document.createElement(p?"link":"style"),o.type="text/css",o.rel="stylesheet",o.setAttribute&&o.setAttribute("data-ymaps","css-modules"),l&&f&&l.style_nonce&&o.setAttribute&&o.setAttribute("nonce",l.style_nonce)),o.styleSheet)s+=i,o.styleSheet.cssText=s,o.parentNode||document.getElementsByTagName("head")[0].appendChild(o);else{if(p){var e=new Blob([i],{type:"text/css"}),t=u.createObjectURL(e);o.setAttribute("href",t)}else o.appendChild(document.createTextNode(i));document.getElementsByTagName("head")[0].appendChild(o),o=null}i="";var r=a;a=[];for(var n=0,d=r.length;n<d;++n)r[n]()}}var o,i="",s="",a=[],c=!1,u=window.URL||window.webkitURL||window.mozURL,l=r.isSupported&&ym.env.server&&ym.env.server.params.csp,f=r.isNonceSupported,p=l&&(!l.style_nonce||!f);e(function(e,r){i+=e+"\n/**/\n",r&&a.push(r),c||(t(n),c=!0)})}),ym.modules.define("system.supports.csp",[],function(e){var t=ym.env?ym.env.browser:null;e({isSupported:"undefined"!=typeof Blob&&"undefined"!=typeof URL,isNonceSupported:t&&t.name&&t.version?!(t.name.search("Safari")!=-1&&parseInt(t.version)<10):null})}),ym.modules.define("system.supports.css",[],function(e){function t(e){return"undefined"==typeof f[e]?f[e]=r(e):f[e]}function r(e){return n(e)||n(d+i(e))||n(p.cssPrefix+i(e))}function n(e){return"undefined"!=typeof o().style[e]?e:null}function o(){return c||(c=document.createElement("div"))}function i(e){return e?e.substr(0,1).toUpperCase()+e.substr(1):e}function s(e){var r=t(e);return r&&r!=e&&(r="-"+d+"-"+e),r}function a(e){return u[e]&&t("transitionProperty")?s(u[e]):null}var c,u={transform:"transform",opacity:"opacity",transitionTimingFunction:"transition-timing-function",userSelect:"user-select",height:"height"},l={},f={},p=ym.env.browser,d=p.cssPrefix.toLowerCase();e({checkProperty:t,checkTransitionProperty:function(e){return"undefined"==typeof l[e]?l[e]=a(e):l[e]},checkTransitionAvailability:a})}),ym.modules.define("system.supports.graphics",[],function(e){function t(){if(!window.WebGLRenderingContext)return!1;var e=ym.env.browser,t={"Samsung Internet":!0,AndroidBrowser:!0},r="Webkit"==e.engine&&+e.engineVersion<537;return!r&&!t[e.name]}function r(){if(!t())return null;var e;try{var r=document.createElement("canvas"),n=r.getContext(e="webgl",o);n||(n=r.getContext(e="experimental-webgl",o),n||(e=null))}catch(i){e=null}return e?{contextName:e}:null}function n(e,t){e.width=226,e.height=256,t.fillStyle="#fff",t.fillRect(0,0,150,150),t.globalCompositeOperation="xor",t.fillStyle="#f00",t.fillRect(10,10,100,100),t.fillStyle="#0f0",t.fillRect(50,50,100,100);for(var r=t.getImageData(49,49,2,2),n=[],o=0;o<16;o++)n.push(r.data[o]);return"0x0x0x0x0x0x0x0x0x0x0x0x0x255x0x255"==n.join("x")}var o={failIfMajorPerformanceCaveat:!0,antialias:!1},i={};e({hasSvg:function(){return"svg"in i||(i.svg=document.implementation&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),i.svg},hasCanvas:function(){if(!("canvas"in i)){var e=document.createElement("canvas"),t="getContext"in e?e.getContext("2d"):null;i.canvas=!!t&&n(e,t)}return i.canvas},hasWebGl:function(){return"webgl"in i||(i.webgl=r()),i.webgl},hasVml:function(){if(!("vml"in i)){var e,t=!1,r=document.createElement("div");r.innerHTML='<v:shape id="yamaps_testVML"  adj="1" />',e=r.firstChild,e&&e.style&&(e.style.behavior="url(#default#VML)",t=!e||"object"==typeof e.adj,r.removeChild(e)),i.vml=t}return i.vml},redetect:function(){i={}},getWebGlContextName:function(){return i.webgl&&i.webgl.contextName}})}),ym.modules.define("template.Parser",["util.id","system.supports.csp"],function(provide,utilId,cspSupport){function trim(e){return nativeTrim?e.trim():e.replace(trimRegExp,"")}function escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}function getKeyValuePairs(e){for(var t=[],r=trim(e).replace(/\s*=\s*/g,"=").replace(/\s+/g," ").split(" "),n=0,o=r.length;n<o;n++)t.push(r[n].split("=",2));return t}function removeQuotes(e){var t=e.charAt(0);return"'"==t||'"'==t?e.slice(1,e.length-1):e}function parseExpression(e){for(var t,r=/'|"/g,n=0,o=[];t=r.exec(e);){var i=t.index;if(i>=n){var s=e.indexOf(t[0],i+1);n!=i&&parseExpressionSubstitutes(o,e.slice(n,i)),o.push(e.slice(i,s+1)),n=s+1}}return n<e.length&&parseExpressionSubstitutes(o,e.slice(n)),o.join("")}function parseExpressionSubstitutes(e,t){for(var r,n=/(^|[^\w\$])([A-Za-z_\$][\w\$\.]*)(?:[^\w\d_\$]|$)/g,o=0;r=n.exec(t);){var i=r.index+r[1].length,s=r[2],a=i+s.length;i>o&&e.push(t.slice(o,i)),stopWords[s]?e.push(s):e.push('data.get("'+s+'")'),o=a}o<t.length&&e.push(t.slice(o))}function evaluateExpression(expression,data){var result;return eval("result = "+expression),result}var trimRegExp=/^\s+|\s+$/g,nativeTrim="function"==typeof String.prototype.trim,DataLogger=function(e){this._dataManager=e,
this._renderedValues={},this._contexts={}};DataLogger.prototype.get=function(e){if(this._renderedValues.hasOwnProperty(e))return this._renderedValues[e].value;var t=e.indexOf("."),r=trim(t>-1?e.substring(0,t):e);this._contexts.hasOwnProperty(r)&&(e=e.replace(r,this._contexts[r]));var n=this._dataManager.get(e);return this.set(e,n),n},DataLogger.prototype.setContext=function(e,t){this._contexts[e]=t},DataLogger.prototype.set=function(e,t){if(e.indexOf(".")>-1)for(var r=e.split("."),n="",o=0,i=r.length-1;o<i;o++)n+=(0===o?"":".")+r[o],this._renderedValues[n]={value:this._dataManager.get(n)};this._renderedValues[e]={value:t}},DataLogger.prototype.getRenderedValues=function(){return this._renderedValues};var stopWords={"true":!0,"false":!0,undefined:!0,"null":!0,"typeof":!0},CONTENT=0,startTokenRegExp=new RegExp(["\\$\\[\\[","\\$\\[(?!\\])","\\[if","\\[else\\]","\\[endif\\]","\\{\\{","\\{%"].join("|"),"g"),Parser=function(e){this.filtersStorage=e};Parser.prototype.scanners={},Parser.prototype.builders={},Parser.prototype.parse=function(e){var t,r,n,o,i=[],s=0;for(startTokenRegExp.lastIndex=0;o=startTokenRegExp.exec(e);)if(o.index>=s){t=o.index,n=t+o[0].length,s!=t&&i.push(CONTENT,e.slice(s,t));var a=this.scanners[o[0]];a.token?(i.push(a.token,null),s=n):(r=e.indexOf(a.stopToken,n),a.scan(i,e.slice(n,r)),s=r+a.stopToken.length)}return s<e.length&&i.push(CONTENT,e.slice(s)),i},Parser.prototype.build=function(e,t){var r={nodes:e,left:0,right:e.length,empty:!0,flags:{},subnodes:[],sublayouts:[],strings:[],data:new DataLogger(t)};return this._buildTree(r),r.renderedValues=r.data.getRenderedValues(),r},Parser.prototype._buildTree=function(e){for(var t=e.nodes,r=e.strings;e.left<e.right;){var n=t[e.left];n==CONTENT?(r.push(t[e.left+1]),e.empty=!1,e.left+=2):this.builders[n](e,this)}};var OLD_SUBSTITUTE=1001,OLD_SUBLAYOUT=1002,OLD_IF=1003,OLD_ELSE=1004,OLD_ENDIF=1005;Parser.prototype.scanners["$[["]={stopToken:"]]",scan:function(e,t){var r=t.match(/^(\S+)\s*(\S.*)?$/);e.push(OLD_SUBLAYOUT,[r[1],r[2]?getKeyValuePairs(r[2]):[]])}},Parser.prototype.scanners["$["]={stopToken:"]",scan:function(e,t){var r=t.split("|",2);e.push(OLD_SUBSTITUTE,r)}},Parser.prototype.scanners["[if"]={stopToken:"]",scan:function(e,t){var r=t.match(/^(def)? (.+)$/),n=parseExpression(r[2]);e.push(OLD_IF,[r[1],n])}},Parser.prototype.scanners["[else]"]={token:OLD_ELSE},Parser.prototype.scanners["[endif]"]={token:OLD_ENDIF},Parser.prototype.builders[OLD_SUBSTITUTE]=function(e,t){var r=e.nodes[e.left+1][0],n=e.data.get(r);"undefined"==typeof n&&(n=e.nodes[e.left+1][1]),e.strings.push(n),e.left+=2,e.empty=e.empty&&!n},Parser.prototype.builders[OLD_SUBLAYOUT]=function(e,t){var r=utilId.prefix()+utilId.gen(),n=e.nodes[e.left+1][0];e.strings.push('<ymaps id="'+r+'"></ymaps>');for(var o={id:r,key:n,value:e.data.get(n)||n},i=[],s=[],a=e.nodes[e.left+1][1],c=0,u=a.length;c<u;c++){var l,f=a[c],p=f[0],d=f[1]||"true",m=d.length-1;'"'==d.charAt(0)&&'"'==d.charAt(m)||"'"==d.charAt(0)&&"'"==d.charAt(m)?l=d.substring(1,m):isNaN(Number(d))?"true"==d?l=!0:"false"==d?l=!1:(s=d.split("|"),l=e.data.get(s[0],s[1]),i.push(s[0])):l=d,o[p]=l}o.monitorValues=i,e.sublayouts.push(o),e.left+=2},Parser.prototype.builders[OLD_IF]=function(e,t){for(var r,n,o,i=e.nodes,s=e.left,a=i[s+1][0],c=i[s+1][1],u=evaluateExpression(c,e.data),l=a?"undefined"!=typeof u:!!u,f=e.left+2,p=e.right,d=1;f<p&&(i[f]==OLD_IF?d++:i[f]==OLD_ELSE?1==d&&(n=f):i[f]==OLD_ENDIF&&(--d||(o=f)),!o);)f+=2;if(l?(r=e.left+2,p=n?n:o):(r=n?n+2:o,p=o),r!=p){var m=e.right,h=e.empty;e.left=r,e.right=p,t._buildTree(e),e.empty=e.empty&&h,e.right=m}e.left=o+2};var SUBSTITUTE=2001,INCLUDE=2002,IF=2003,ELSE=2004,ENDIF=2005,FOR=2006,ENDFOR=2007,ELSEIF=2008,STYLE=2009,ENDSTYLE=2010;Parser.prototype.scanners["{{"]={stopToken:"}}",scan:function(e,t){for(var r=t.split("|"),n=[],o=1,i=r.length;o<i;o++){var s=r[o].split(":",2),a=trim(s[0]),c=s[1];s[1]&&(c="default"!=a?parseExpression(removeQuotes(s[1])):trim(s[1])),n.push([a,c])}e.push(SUBSTITUTE,[trim(r[0]),n])}},Parser.prototype.scanners["{%"]={stopToken:"%}",scan:function(e,t){var r=trim(t).match(/^([A-Za-z]+)(\s+\S.*)?$/),n=r[1],o=r[2]?trim(r[2]):null;switch(n){case"if":e.push(IF,parseExpression(o));break;case"else":e.push(ELSE,null);break;case"elseif":e.push(ELSEIF,parseExpression(o));break;case"endif":e.push(ENDIF,null);break;case"include":var i=getKeyValuePairs(o);e.push(INCLUDE,[removeQuotes(i[0][0]),i.slice(1)]);break;case"for":e.push(FOR,o);break;case"endfor":e.push(ENDFOR,null);break;case"style":e.push(STYLE,o);break;case"endstyle":e.push(ENDSTYLE,o)}}},Parser.prototype.builders[SUBSTITUTE]=function(e,t){var r,n,o,i=/\[\s*(\d+|\'[^\']+\'|\"[^\"]+\")\s*\]/g,s=e.nodes[e.left+1],a=s[0],c=!0,u=s[1];if(i.test(a)){var l,f=a.match(i),p=a.split(f[0]);if(o=f.length,a=p[0],l=a+"."+removeQuotes(trim(f[0].replace("[","").replace("]",""))),p=p[1],o>1)for(n=1;n<o;n++){var d=f[n];p=p.split(d),d=trim(d.replace("[","").replace("]","")),d=removeQuotes(d),p[0].length&&(l+=p[0]),l+="."+d,p=p[1]}else l+=p;r=e.data.get(l)}else r=e.data.get(a);for(n=0,o=u.length;n<o;n++){var m,h=u[n];t.filtersStorage&&(m=t.filtersStorage.get(h[0]))?r=m(e.data,r,h[1]):"raw"==h[0]&&(c=!1)}c&&"string"==typeof r&&(r=escape(r)),e.strings.push(r),e.left+=2,e.empty=e.empty&&!r},Parser.prototype.builders[INCLUDE]=Parser.prototype.builders[OLD_SUBLAYOUT],Parser.prototype.builders[FOR]=function(e,t){for(var r,n,o=e.nodes,i=e.left+2,s=e.right,a=1;i<s&&(o[i]==FOR?a++:o[i]==ENDFOR&&(--a||(n=i)),!n);)i+=2;if(r=e.left+2,s=n,r!=s){var c=o[e.left+1].split(/\sin\s/),u=trim(c[0]),l=trim(c[1]),f=e.data.get(l),p=u.split(","),d=p.length,m=e.right,h=e.empty,v=e.data,y=new DataLogger(v);e.data=y;for(var g in f)e.left=r,e.right=s,f.hasOwnProperty(g)&&(1==d?y.setContext(u,l+"."+g):(y.set(trim(p[0]),g),y.setContext(trim(p[1]),l+"."+g)),t._buildTree(e));e.empty=e.empty&&h,e.right=m,e.data=v}e.left=n+2},Parser.prototype.builders[IF]=Parser.prototype.builders[ELSEIF]=function(e,t){for(var r,n,o,i,s,a=e.nodes,c=e.left,u=a[c+1],l=evaluateExpression(u,e.data),f=!!l,p=e.left+2,d=e.right,m=1;p<d&&(s=a[p],s==IF?m++:s==ELSEIF?1!=m||o||(o=p):s==ELSE?1==m&&(n=p):s==ENDIF&&(--m||(i=p)),!i);)p+=2;if(f?(r=e.left+2,d=o||n||i):o?(r=o,d=i+1):(r=n?n+2:i,d=i),r!=d){var h=e.right,v=e.empty;e.left=r,e.right=d,t._buildTree(e),e.empty=e.empty&&v,e.right=h}e.left=i+2},Parser.prototype.builders[STYLE]=function(e,t){for(var r,n,o,i=e.nodes,s=e.left+2,a=e.right,c=1;s<a;){if(o=i[s],o==STYLE)c++;else if(o==ENDSTYLE&&1==c){n=s;break}s+=2}if(r=e.left+2,a=n,r!=a){var u=e.right,l=e.empty;e.left=r,e.right=a,cspSupport.isSupported&&ym.env.server&&ym.env.server.params.csp?(e.strings.push('data-ymaps-style="'),e.flags.containsInlineStyle=!0):e.strings.push('style="'),t._buildTree(e),e.strings.push('"'),e.empty=e.empty&&l,e.right=u}e.left=n+2},provide(Parser)}),ym.modules.define("cnst.error-cap.create",["cnst.localization"],function(e,t){function r(e,t){var r=document.createElement(e);for(var n in t)t.hasOwnProperty(n)&&r.setAttribute(n,t[n]);return r}function n(e){var t=r("a",{href:e.mapHost+f,target:"_blank","class":"ymaps-cnst-error-cap"});return t.style.width=i(e.size[0]),t.style.height=i(e.size[1]),t}function o(e,t,r){var n=r&&document.getElementById(r);n?(n.appendChild(e),s(t.parentNode,t)):(n=t.parentNode,n===document.head||n===document.getElementsByTagName("head")[0]?(document.body.appendChild(e),s(n,t)):n&&(n.insertBefore(e,t),s(n,t)))}function i(e){return e=Number(e),!isNaN(e)&&e>0?e+"px":"100%"}function s(e,t){e&&e.removeChild(t)}function a(e,t,n,o){var i,s=n.imgUrl;if(c(e.style.width,e.style.height))i=r("div",{"class":"ymaps-cnst-container_small"}),e.appendChild(i);else{i=r("p",{});var a,u=r("div",{"class":"ymaps-cnst-container_big"});a="svg"===t?r("img",{src:s+"/maps-logo.svg"}):r("img",{src:s+"/maps-logo.png",srcset:s+"/maps-logo@2x.png 2x, "+s+"/maps-logo@3x.png 3x"}),u.appendChild(a),u.appendChild(i),e.appendChild(u)}i.innerHTML=o.split("<a>").join("<a href="+n.mapHost+f+" target=_blank>")}function c(e,t){return e.split("px")[0]<=u||t.split("px")[0]<=l}var u=260,l=180,f="?source=consturctorRemovedMap";e(function(e,r){var i=n(e);o(i,e.script,e.elementId),a(i,r,e,t.removed_map)})}),ym.modules.define("util.defineClass",["util.extend"],function(e,t){function r(e,r,n){return e.prototype=(Object.create||function(e){function t(){}return t.prototype=e,new t})(r.prototype),e.prototype.constructor=e,e.superclass=r.prototype,e.superclass.constructor=r,n&&t(e.prototype,n),e.prototype}function n(e,n,o){var i="function"==typeof n;i&&r(e,n);for(var s=i?2:1,a=arguments.length;s<a;s++)t(e.prototype,arguments[s]);return e}e(n)}),ym.modules.define("util.extend",["util.objectKeys"],function(e,t){function r(e){if(ym.env.debug&&!e)throw new Error("util.extend: не передан параметр target");for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];if(n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}function n(e){if(ym.env.debug&&!e)throw new Error("util.extend: не передан параметр target");for(var r=1,n=arguments.length;r<n;r++){var o=arguments[r];if(o)for(var i=t(o),s=0,a=i.length;s<a;s++)e[i[s]]=o[i[s]]}return e}e("function"==typeof Object.keys?n:r)}),ym.modules.define("util.id",[],function(e){var t=new function(){function e(){return(++r).toString()}var t=("id_"+ +new Date+Math.round(1e4*Math.random())).toString(),r=Math.round(1e4*Math.random());this.prefix=function(){return t},this.gen=e,this.get=function(r){return r===window?t:r[t]||(r[t]=e())}};e(t)}),ym.modules.define("util.jsonp",["util.id","util.querystring","util.script"],function(e,t,r,n){function o(e){return o.handler?o.handler(e,i):i(e)}function i(e){var o,i,a="undefined"==typeof e.checkResponse||e.checkResponse,f=e.responseFieldName||"response",p=e.requestParams?"&"+r.stringify(e.requestParams,null,null,{joinArrays:!0}):"",d=ym.vow.defer(),m=d.promise(),h=e.timeout||3e4,v=setTimeout(function(){d.reject(u)},h),y=function(){s(i,o),clearTimeout(v),v=null};if(!e.padding){if(o=e.paddingKey||t.prefix()+t.gen(),"function"==typeof window[o]&&window[o].promise)return window[o].promise;c(o),window[o]=function(e){if(a){var t=!e||e.error||e[f]&&e[f].error;t?d.reject(t):d.resolve(e&&e[f]||e)}else d.resolve(e)},window[o].promise=m}var g=e.url+(/\?/.test(e.url)?"&":"?")+(e.paramName||"callback")+"="+(e.padding||o)+(e.noCache?"&_="+Math.floor(1e7*Math.random()):"")+p;if(e.postprocessUrl)if("function"==typeof e.postprocessUrl)g=e.postprocessUrl(g);else for(;e.postprocessUrl.length;)g=e.postprocessUrl.shift()(g);return i=n.create(g),i.onerror=function(){d.reject(l)},m.always(y),m}function s(e,t){t&&a(t),setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function a(e){window[e]=f,p[e]=setTimeout(function(){window[e]=void 0;try{delete window[e]}catch(t){}},500)}function c(e){p[e]&&(clearTimeout(p[e]),p[e]=null)}var u={message:"timeoutExceeded"},l={message:"scriptError"},f=function(){},p={};e(o)}),ym.modules.define("system.nextTick",[],function(e){var t=function(){var e=[],t=function(t){return 1===e.push(t)},r=function(){var t=e,r=0,n=e.length;for(e=[];r<n;)t[r++]()};if("object"==typeof process&&process.nextTick)return function(e){t(e)&&process.nextTick(r)};if(global.setImmediate)return function(e){t(e)&&global.setImmediate(r)};if(global.postMessage&&!global.opera){var n=!0;if(global.attachEvent){var o=function(){n=!1};global.attachEvent("onmessage",o),global.postMessage("__checkAsync","*"),global.detachEvent("onmessage",o)}if(n){var i="__ym"+ +new Date,s=function(e){e.data===i&&(e.stopPropagation&&e.stopPropagation(),r())};return global.addEventListener?global.addEventListener("message",s,!0):global.attachEvent("onmessage",s),function(e){t(e)&&global.postMessage(i,"*")}}}var a=global.document;if("onreadystatechange"in a.createElement("script")){var c=a.getElementsByTagName("head")[0],u=function(){var e=a.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,r()},c.appendChild(e)};return function(e){t(e)&&u()}}return function(e){t(e)&&setTimeout(r,0)}}();e(t)}),ym.modules.define("util.objectKeys",[],function(e){var t="function"==typeof Object.keys?Object.keys:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t};e(function(e){var r,n=typeof e;if("object"!=n&&"function"!=n)throw new TypeError("Object.keys called on non-object");return r=t(e)})}),ym.modules.define("util.providePackage",["system.mergeImports"],function(e,t){e(function(e,r){var n=r[0],o=Array.prototype.slice.call(r,1),i=t.joinImports(e.name,{},e.deps,o);n(i)})}),ym.modules.define("util.querystring",[],function(e){function t(e){return"[object Array]"===Object.prototype.toString.call(e)}e({parse:function(e,r,n,o){r=r||"&",n=n||"=",o=o||{};for(var i,s,a,c=o.decodeURIComponent||decodeURIComponent,u={},l=e.split(r),f=0;f<l.length;++f)i=l[f].split(n),s=c(i[0]),a=c(i.slice(1).join(n)),t(u[s])?u[s].push(a):u.hasOwnProperty(s)?u[s]=[u[s],a]:u[s]=a;return u},stringify:function(e,r,n,o){r=r||"&",n=n||"=",o=o||{};var i,s,a=o.encodeURIComponent||encodeURIComponent,c=[];for(i in e)if(e.hasOwnProperty(i))if(s=e[i],t(s))if(o.joinArrays)c.push(a(i)+n+a(s.join(",")));else for(var u=0;u<s.length;++u)"undefined"!=typeof s[u]&&c.push(a(i)+n+a(s[u]));else"undefined"!=typeof s&&c.push(a(i)+n+a(s));return c.join(r)}})}),ym.modules.define("util.script",[],function(e){var t=document.getElementsByTagName("head")[0];e({create:function(e,r){var n=document.createElement("script");return n.charset=r||"utf-8",n.src=e,setTimeout(function(){t.insertBefore(n,t.firstChild)},0),n}})})}(this);